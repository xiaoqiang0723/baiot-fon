(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69572af4"],{1086:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));n("99af");var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||0===e?e+t:"-"},r=function(e,t){return parseInt(e,10)&&parseInt(t,10)},i=function(e,t){return r(e,t)?"".concat(e,"-").concat(t):"-"},s=function(e){return e?"K".concat(parseInt(e,10),"+").concat(parseInt(e%1*1e3,10)):"-"}},3511:function(e,t){var n=TypeError,a=9007199254740991;e.exports=function(e){if(e>a)throw n("Maximum allowed index exceeded");return e}},"39ea":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7"),n("159b");var a=n("4360"),r={OCCUPY_MANAGE_OPERATE:2015,OCCUPY_MANAGE_LIST:2026,OCCUPY_EQUIP_LIST:2027,OCCUPY_EQUIP_OPERATE:2028,GUARDRAIL_WARNING_OPERATE:2024,GUARDRAIL_WARNING_LIST:2029,GUARDRAIL_EQUIP_LIST:2030,GUARDRAIL_EQUIP_OPERATE:2031,GUARDRAIL_EQUIP_ADD:2019,GUARDRAIL_STOCK_ADD:2040,GUARDRAIL_STOCK_LIST:2041,GUARDRAIL_STOCK_BIND:2042,GUARDRAIL_STOCK_DELETE:2043,GUARDRAIL_EVENTS_LIST:2034,GUARDRAIL_ONE_STOCK_ADD:2046,GUARDRAIL_ONE_STOCK_LIST:2047,GUARDRAIL_ONE_STOCK_BIND:2048,GUARDRAIL_ONE_STOCK_DELETE:2049,USER_SEARCH_LIST:2051},i=function(e){var t=a["a"].state.permission.authList,n=!1;return t.forEach((function(t){t.menuId===r[e]&&(n=!0)})),n}},"408a":function(e,t,n){var a=n("e330");e.exports=a(1..valueOf)},4476:function(e,t,n){"use strict";n("f62c")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("e330"),r=n("1d80"),i=n("577e"),s=n("5899"),o=a("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(e){return function(t){var n=i(r(t));return 1&e&&(n=o(n,u,"")),2&e&&(n=o(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},"7c7e":function(e,t,n){"use strict";n("e0bb")},"82cb":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aiot-list-contain"},[e.isFull?e._e():n("div",{class:["aiot-list-control",{active:!e.isShowList}],on:{click:e.toggleList}}),n("div",{class:["aiot-list-content",{full:e.isFull}]},[n("div",{staticClass:"aiot-list-table"},[n("div",{staticClass:"aiot-list-table-header-mask"}),e._t("default")],2),e.isShowList?n("div",{staticClass:"aiot-list-pagination"},[n("el-pagination",{attrs:{background:"","current-page":e.pageNumber,"page-sizes":1===e.sizeType?[10,20,30]:[6,12],"page-size":6,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])])},r=[],i=(n("a9e3"),{props:{totalNum:{type:Number,default:0},isFull:{type:Boolean,default:!1},sizeType:{type:Number,default:0}},data:function(){return{isShowList:!0,pageSize:6,pageNumber:1}},methods:{toggleList:function(){this.isShowList=!this.isShowList,this.$emit("showList",this.isShowList)},handleSizeChange:function(e){this.pageSize=e,this.$emit("changePage",{type:"size",value:this.pageSize})},handleCurrentChange:function(e){this.pageNumber=e,this.$emit("changePage",{type:"number",value:this.pageNumber})}}}),s=i,o=(n("bfd4"),n("2877")),c=Object(o["a"])(s,a,r,!1,null,"7fe7058a",null);t["a"]=c.exports},"99af":function(e,t,n){"use strict";var a=n("23e7"),r=n("d039"),i=n("e8b5"),s=n("861d"),o=n("7b0b"),c=n("07fa"),u=n("3511"),l=n("8418"),f=n("65f0"),d=n("1dde"),p=n("b622"),m=n("2d00"),b=p("isConcatSpreadable"),I=m>=51||!r((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),h=d("concat"),v=function(e){if(!s(e))return!1;var t=e[b];return void 0!==t?!!t:i(e)},_=!I||!h;a({target:"Array",proto:!0,arity:1,forced:_},{concat:function(e){var t,n,a,r,i,s=o(this),d=f(s,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(i=-1===t?s:arguments[t],v(i))for(r=c(i),u(p+r),n=0;n<r;n++,p++)n in i&&l(d,p,i[n]);else u(p+1),l(d,p++,i);return d.length=p,d}})},a15f:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add clearfix"},[n("el-form",{ref:"form",attrs:{"label-width":"100px"}},[n("el-form-item",{staticClass:"form-item float-left",attrs:{prop:"id",label:"序号"}},[n("div",{staticClass:"value input"},[e._v(e._s(e.info.id))])]),n("el-form-item",{staticClass:"form-item float-left",attrs:{prop:"devId",label:"设备编号"}},[n("div",{staticClass:"value input"},[e._v(e._s(e.info.devId))])]),n("el-form-item",{staticClass:"form-item float-left",attrs:{prop:"roleName",label:"IMEI"}},[n("div",{staticClass:"value input"},[e._v(e._s(e.info.imei))])]),n("el-form-item",{staticClass:"form-item float-left",attrs:{prop:"addTime",label:"创建时间"}},[n("div",{staticClass:"value input"},[e._v(e._s(e.info.addTime))])]),e.isBind?n("el-form-item",{staticClass:"form-item float-left",attrs:{label:"添加用户"}},[n("el-select",{attrs:{filterable:"","reserve-keyword":"",placeholder:"请选择需要绑定的用户"},on:{change:e.changeUser},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}},e._l(e.userList,(function(t){return n("el-option",{key:t.userId,attrs:{label:t.userName,value:t.userId}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.userName))]),n("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"12px"}},[e._v("("+e._s(t.loginName)+")")])])})),1),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.changeBindUser(0)}}},[e._v("添加")])],1):e._e(),n("el-form-item",{staticClass:"form-item float-right",attrs:{label:"绑定用户"}},[n("div",{staticClass:"table-wrapper"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.info.userIds,"tooltip-effect":"dark",height:"280px","header-row-class-name":"aiot-table-list-header","row-class-name":"aiot-table-list-row",size:"mini",fit:"","element-loading-background":"rgba(8, 37, 51, 0.5)"}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),e._l(e.columns,(function(t,a){return[n("el-table-column",{key:t.key+a,attrs:{prop:t.key,type:t.type,label:t.label,"min-width":t.width,"show-overflow-tooltip":"",formatter:e.formatterColumn}})]})),e.isBind?n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticStyle:{color:"#eb577d"},attrs:{type:"text",size:"small"},on:{click:function(n){return e.changeBindUser(1,t.row)}}},[e._v("解除")])]}}],null,!1,1504349084)}):e._e()],2)],1)])],1)],1)},r=[],i=n("c7eb"),s=n("1da1"),o=n("5530"),c=(n("d81d"),n("2f62")),u=n("4bff"),l=n("1086"),f=n("39ea"),d={props:["devId"],data:function(){return{isBind:Object(f["a"])("GUARDRAIL_STOCK_BIND"),info:{},userId:"",columns:[{label:"用户账号",key:"loginName",width:120},{label:"用户名称",key:"userName",width:120}]}},computed:Object(o["a"])({},Object(c["b"])({userList:function(e){return e.globals.userList}})),watch:{userList:function(){this.info.userIds=this.userList.userIds.map((function(e){return e.userId}))}},mounted:function(){this.queryStockDeviceInfo()},methods:{changeBindUser:function(e,t){var n=this;return Object(s["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n.info.devId&&(e||n.userId)){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,Object(u["e"])({deviceIds:[n.info.devId],isRelieve:e,userId:e?t.userId:n.userId});case 4:r=a.sent,r>0?(n.$message({type:"success",message:"操作成功"}),n.userId="",n.queryStockDeviceInfo()):n.$message({type:"error",message:"操作失败"});case 6:case"end":return a.stop()}}),a)})))()},onSubmit:function(){console.log("submit!")},queryStockDeviceInfo:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["q"])({devId:e.devId});case 2:n=t.sent,e.info=n||{};case 4:case"end":return t.stop()}}),t)})))()},changeUser:function(e){console.log(e)},removeUser:function(e){console.log("removeUser",e)},formatterColumn:function(e,t){var n=t.property,a="";switch(n){default:a=e[n];break}return Object(l["d"])(a)}}},p=d,m=(n("7c7e"),n("4476"),n("2877")),b=Object(m["a"])(p,a,r,!1,null,"42634c31",null);t["a"]=b.exports},a9e3:function(e,t,n){"use strict";var a=n("83ab"),r=n("da84"),i=n("e330"),s=n("94ca"),o=n("cb2d"),c=n("1a2d"),u=n("7156"),l=n("3a9b"),f=n("d9b5"),d=n("c04e"),p=n("d039"),m=n("241c").f,b=n("06cf").f,I=n("9bf2").f,h=n("408a"),v=n("58a8").trim,_="Number",g=r[_],A=g.prototype,E=r.TypeError,S=i("".slice),N=i("".charCodeAt),C=function(e){var t=d(e,"number");return"bigint"==typeof t?t:L(t)},L=function(e){var t,n,a,r,i,s,o,c,u=d(e,"number");if(f(u))throw E("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=v(u),t=N(u,0),43===t||45===t){if(n=N(u,2),88===n||120===n)return NaN}else if(48===t){switch(N(u,1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+u}for(i=S(u,2),s=i.length,o=0;o<s;o++)if(c=N(i,o),c<48||c>r)return NaN;return parseInt(i,a)}return+u};if(s(_,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var R,y=function(e){var t=arguments.length<1?0:g(C(e)),n=this;return l(A,n)&&p((function(){h(n)}))?u(Object(t),n,y):t},w=a?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),O=0;w.length>O;O++)c(g,R=w[O])&&!c(y,R)&&I(y,R,b(g,R));y.prototype=A,A.constructor=y,o(r,_,y,{constructor:!0})}},bfd4:function(e,t,n){"use strict";n("dd6c")},dd6c:function(e,t,n){},e0bb:function(e,t,n){},f62c:function(e,t,n){}}]);