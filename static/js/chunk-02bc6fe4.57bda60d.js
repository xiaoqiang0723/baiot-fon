(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02bc6fe4"],{"420f":function(e,a,t){},"472f":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"equip-manage-contain"},[t("article",{staticClass:"equip-manage-search clearfix"},[t("div",{staticClass:"equip-manage-search-inner aiot-search-contain clearfix"},[t("div",{staticClass:"search-module clearfix"},[t("span",{staticClass:"search-module-name"},[e._v("组编号")]),t("span",{staticClass:"search-module-value"},[t("el-input",{attrs:{placeholder:"请输入组编号",clearable:""},model:{value:e.seachData.groupCode,callback:function(a){e.$set(e.seachData,"groupCode",a)},expression:"seachData.groupCode"}})],1)]),t("div",{staticClass:"search-module clearfix"},[t("span",{staticClass:"search-module-name"},[e._v("设备编号")]),t("span",{staticClass:"search-module-value"},[t("el-input",{attrs:{placeholder:"请输入设备编号",clearable:""},model:{value:e.seachData.imei,callback:function(a){e.$set(e.seachData,"imei",a)},expression:"seachData.imei"}})],1)]),t("div",{staticClass:"search-module clearfix"},[t("span",{staticClass:"search-module-name"},[e._v("事件类型")]),t("span",{staticClass:"search-module-value"},[t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.seachData.state,callback:function(a){e.$set(e.seachData,"state",a)},expression:"seachData.state"}},[t("el-option",{attrs:{label:"告警",value:1}}),t("el-option",{attrs:{label:"下发",value:2}})],1)],1)]),t("div",{staticClass:"search-module search-module2 clearfix"},[t("span",{staticClass:"search-module-name"},[e._v("告警时间")]),t("span",{staticClass:"search-module-value"},[t("el-date-picker",{attrs:{clearable:"",type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:e.seachData.alertTime,callback:function(a){e.$set(e.seachData,"alertTime",a)},expression:"seachData.alertTime"}})],1)]),t("div",{staticClass:"search-button",on:{click:e.searchData}})])]),t("article",{ref:"listTable",staticClass:"equip-manage-list table-wrapper"},[t("AiotList",{attrs:{totalNum:e.totalNum,isFull:!0,sizeType:1},on:{changePage:e.changePage}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-row-class-name":"aiot-table-list-header","row-class-name":"aiot-table-list-row","tooltip-effect":"light",height:"100%"}},[e._l(e.columns,(function(a,s){return[t("el-table-column",{key:a.key+s,attrs:{prop:a.key,label:a.label,width:a.width,formatter:e.formatterColumn,"show-overflow-tooltip":""}})]}))],2)],1)],1),t("el-dialog",{attrs:{visible:e.equipIssueShow,width:"800px",title:"下发编组",center:"","custom-class":"aiot-modal","append-to-body":!0},on:{"update:visible":function(a){e.equipIssueShow=a}}},[e.equipIssueShow?t("EquipIssue",{attrs:{eventId:e.equipIssueData.eventId,imei:e.equipIssueData.imei}}):e._e()],1)],1)},l=[],i=t("c7eb"),c=t("1da1"),r=t("1086"),o=t("82cb"),n=t("4bff"),u=t("0933"),h=t("8691"),d={components:{AiotList:o["a"],EquipIssue:h["a"]},mixins:[u["a"]],data:function(){return{formatVal:r["d"],totalNum:0,pageSize:10,pageNum:1,tableData:[],columns:[{label:"组编号",key:"groupCode"},{label:"设备编号",key:"imei"},{label:"路段",key:"road"},{label:"事件类型",key:"eventState"},{label:"次数",key:"eventCount"}],location:"",seachData:{groupCode:"",road:"",imei:"",state:"",alertTime:[]},equipIssueData:{},equipIssueShow:!1}},computed:{},watch:{},methods:{formatterColumn:function(e,a){var t=a.property,s="";switch(t){case"eventState":s=this.eventStatusMap[e[t]];break;case"isIssue":s=e[t]?"已下发":"未下发";break;case"isEnd":s=e[t]?"已解除":"未解除";break;default:s=e[t];break}return Object(r["d"])(s)},changePage:function(e){switch(e.type){case"number":this.pageNum=e.value;break;case"size":this.pageSize=e.value;break;default:break}this.searchData()},searchData:function(){this.queryAlarmList()},queryAlarmList:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function a(){var t,s,l,c,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return c={groupCode:e.seachData.groupCode,road:e.seachData.road,imei:e.seachData.imei,endTime:(null===(t=e.seachData.alertTime)||void 0===t?void 0:t.length)>0?e.seachData.alertTime[0]:"",startTime:(null===(s=e.seachData.alertTime)||void 0===s?void 0:s.length)>0?e.seachData.alertTime[1]:"",state:e.seachData.state,pageNum:e.pageNum,pageSize:e.pageSize},a.next=3,Object(n["k"])(c);case 3:r=a.sent,console.log("列表:",r),e.totalNum=(null===(l=r.meta)||void 0===l?void 0:l.count)||0,e.tableData=r.data||[];case 7:case"end":return a.stop()}}),a)})))()}},mounted:function(){this.searchData()}},p=d,m=(t("c6fe"),t("cf82"),t("2877")),b=Object(m["a"])(p,s,l,!1,null,"23d6a9e6",null);a["default"]=b.exports},"8b11":function(e,a,t){},c6fe:function(e,a,t){"use strict";t("420f")},cf82:function(e,a,t){"use strict";t("8b11")}}]);