(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f54a2f12"],{1086:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s}));r("44ad");var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||0===e?e+t:"-"},a=function(e,t){return parseInt(e,10)&&parseInt(t,10)},i=function(e,t){return a(e,t)?"".concat(e,"-").concat(t):"-"},s=function(e){return e?"K".concat(parseInt(e,10),"+").concat(parseInt(e%1*1e3,10)):"-"}},"39ea":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("a9b6"),r("c284");var n=r("4360"),a={OCCUPY_MANAGE_OPERATE:2015,OCCUPY_MANAGE_LIST:2026,OCCUPY_EQUIP_LIST:2027,OCCUPY_EQUIP_OPERATE:2028,GUARDRAIL_WARNING_OPERATE:2024,GUARDRAIL_WARNING_LIST:2029,GUARDRAIL_EQUIP_LIST:2030,GUARDRAIL_EQUIP_OPERATE:2031,GUARDRAIL_EQUIP_ADD:2019,GUARDRAIL_STOCK_ADD:2040,GUARDRAIL_STOCK_LIST:2041,GUARDRAIL_STOCK_BIND:2042,GUARDRAIL_STOCK_DELETE:2043,GUARDRAIL_EVENTS_LIST:2034,GUARDRAIL_ONE_STOCK_ADD:2046,GUARDRAIL_ONE_STOCK_LIST:2047,GUARDRAIL_ONE_STOCK_BIND:2048,GUARDRAIL_ONE_STOCK_DELETE:2049,USER_SEARCH_LIST:2051},i=function(e){var t=n["a"].state.permission.authList,r=!1;return t.forEach((function(t){t.menuId===a[e]&&(r=!0)})),r}},"3d27":function(e,t,r){},4476:function(e,t,r){"use strict";r("3d27")},"44ad":function(e,t,r){"use strict";var n=r("a5ba"),a=r("c6da"),i=r("b68d"),s=r("f1b6"),o=r("244f"),c=r("3493"),u=r("67e7"),l=r("c854"),f=r("c0fe"),d=r("4718"),p=r("d442"),m=r("8f74"),b=p("isConcatSpreadable"),h=9007199254740991,I="Maximum allowed index exceeded",v=a.TypeError,_=m>=51||!i((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),g=d("concat"),A=function(e){if(!o(e))return!1;var t=e[b];return void 0!==t?!!t:s(e)},E=!_||!g;n({target:"Array",proto:!0,forced:E},{concat:function(e){var t,r,n,a,i,s=c(this),o=f(s,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?s:arguments[t],A(i)){if(a=u(i),d+a>h)throw v(I);for(r=0;r<a;r++,d++)r in i&&l(o,d,i[r])}else{if(d>=h)throw v(I);l(o,d++,i)}return o.length=d,o}})},"4e41":function(e,t,r){},"64b7":function(e,t,r){var n=r("a9fd"),a=r("244f"),i=r("d606");e.exports=function(e,t,r){var s,o;return i&&n(s=t.constructor)&&s!==r&&a(o=s.prototype)&&o!==r.prototype&&i(e,o),e}},"7c7e":function(e,t,r){"use strict";r("4e41")},"82cb":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"aiot-list-contain"},[e.isFull?e._e():r("div",{class:["aiot-list-control",{active:!e.isShowList}],on:{click:e.toggleList}}),r("div",{class:["aiot-list-content",{full:e.isFull}]},[r("div",{staticClass:"aiot-list-table"},[r("div",{staticClass:"aiot-list-table-header-mask"}),e._t("default")],2),e.isShowList?r("div",{staticClass:"aiot-list-pagination"},[r("el-pagination",{attrs:{background:"","current-page":e.pageNumber,"page-sizes":1===e.sizeType?[10,20,30]:[6,12],"page-size":6,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])])},a=[],i=(r("8372"),{props:{totalNum:{type:Number,default:0},isFull:{type:Boolean,default:!1},sizeType:{type:Number,default:0}},data:function(){return{isShowList:!0,pageSize:6,pageNumber:1}},methods:{toggleList:function(){this.isShowList=!this.isShowList,this.$emit("showList",this.isShowList)},handleSizeChange:function(e){this.pageSize=e,this.$emit("changePage",{type:"size",value:this.pageSize})},handleCurrentChange:function(e){this.pageNumber=e,this.$emit("changePage",{type:"number",value:this.pageNumber})}}}),s=i,o=(r("bfd4"),r("cba8")),c=Object(o["a"])(s,n,a,!1,null,"7fe7058a",null);t["a"]=c.exports},8372:function(e,t,r){"use strict";var n=r("93a7"),a=r("c6da"),i=r("e7ec"),s=r("4aee"),o=r("a3e9"),c=r("12ed"),u=r("64b7"),l=r("99a6"),f=r("7cd3"),d=r("2a15"),p=r("b68d"),m=r("1b92").f,b=r("3c3f").f,h=r("6f4d").f,I=r("fe34"),v=r("e280").trim,_="Number",g=a[_],A=g.prototype,E=a.TypeError,S=i("".slice),N=i("".charCodeAt),R=function(e){var t=d(e,"number");return"bigint"==typeof t?t:C(t)},C=function(e){var t,r,n,a,i,s,o,c,u=d(e,"number");if(f(u))throw E("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=v(u),t=N(u,0),43===t||45===t){if(r=N(u,2),88===r||120===r)return NaN}else if(48===t){switch(N(u,1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(i=S(u,2),s=i.length,o=0;o<s;o++)if(c=N(i,o),c<48||c>a)return NaN;return parseInt(i,n)}return+u};if(s(_,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var y,L=function(e){var t=arguments.length<1?0:g(R(e)),r=this;return l(A,r)&&p((function(){I(r)}))?u(Object(t),r,L):t},w=n?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),T=0;w.length>T;T++)c(g,y=w[T])&&!c(L,y)&&h(L,y,b(g,y));L.prototype=A,A.constructor=L,o(a,_,L)}},a15f:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add clearfix"},[r("el-form",{ref:"form",attrs:{"label-width":"100px"}},[r("el-form-item",{staticClass:"form-item float-left",attrs:{prop:"id",label:"序号"}},[r("div",{staticClass:"value input"},[e._v(e._s(e.info.id))])]),r("el-form-item",{staticClass:"form-item float-left",attrs:{prop:"devId",label:"设备编号"}},[r("div",{staticClass:"value input"},[e._v(e._s(e.info.devId))])]),r("el-form-item",{staticClass:"form-item float-left",attrs:{prop:"roleName",label:"IMEI"}},[r("div",{staticClass:"value input"},[e._v(e._s(e.info.imei))])]),r("el-form-item",{staticClass:"form-item float-left",attrs:{prop:"addTime",label:"创建时间"}},[r("div",{staticClass:"value input"},[e._v(e._s(e.info.addTime))])]),e.isBind?r("el-form-item",{staticClass:"form-item float-left",attrs:{label:"添加用户"}},[r("el-select",{attrs:{filterable:"","reserve-keyword":"",placeholder:"请选择需要绑定的用户"},on:{change:e.changeUser},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}},e._l(e.userList,(function(t){return r("el-option",{key:t.userId,attrs:{label:t.userName,value:t.userId}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(t.userName))]),r("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"12px"}},[e._v("("+e._s(t.loginName)+")")])])})),1),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.changeBindUser(0)}}},[e._v("添加")])],1):e._e(),r("el-form-item",{staticClass:"form-item float-right",attrs:{label:"绑定用户"}},[r("div",{staticClass:"table-wrapper"},[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.info.userIds,"tooltip-effect":"dark",height:"280px","header-row-class-name":"aiot-table-list-header","row-class-name":"aiot-table-list-row",size:"mini",fit:"","element-loading-background":"rgba(8, 37, 51, 0.5)"}},[r("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),e._l(e.columns,(function(t,n){return[r("el-table-column",{key:t.key+n,attrs:{prop:t.key,type:t.type,label:t.label,"min-width":t.width,"show-overflow-tooltip":"",formatter:e.formatterColumn}})]})),e.isBind?r("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticStyle:{color:"#eb577d"},attrs:{type:"text",size:"small"},on:{click:function(r){return e.changeBindUser(1,t.row)}}},[e._v("解除")])]}}],null,!1,1504349084)}):e._e()],2)],1)])],1)],1)},a=[],i=r("ed3b"),s=r("fd6a"),o=(r("e186"),r("59d7"),r("7736")),c=r("4bff"),u=r("1086"),l=r("39ea"),f={props:["devId"],data:function(){return{isBind:Object(l["a"])("GUARDRAIL_STOCK_BIND"),info:{},userId:"",columns:[{label:"用户账号",key:"loginName",width:120},{label:"用户名称",key:"userName",width:120}]}},computed:Object(s["a"])({},Object(o["b"])({userList:function(e){return e.globals.userList}})),watch:{userList:function(){this.info.userIds=this.userList.userIds.map((function(e){return e.userId}))}},mounted:function(){this.queryStockDeviceInfo()},methods:{changeBindUser:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r.info.devId&&(e||r.userId)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(c["e"])({deviceIds:[r.info.devId],isRelieve:e,userId:e?t.userId:r.userId});case 4:a=n.sent,a>0?(r.$message({type:"success",message:"操作成功"}),r.userId="",r.queryStockDeviceInfo()):r.$message({type:"error",message:"操作失败"});case 6:case"end":return n.stop()}}),n)})))()},onSubmit:function(){console.log("submit!")},queryStockDeviceInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["l"])({devId:e.devId});case 2:r=t.sent,e.info=r||{};case 4:case"end":return t.stop()}}),t)})))()},changeUser:function(e){console.log(e)},removeUser:function(e){console.log("removeUser",e)},formatterColumn:function(e,t){var r=t.property,n="";switch(r){default:n=e[r];break}return Object(u["d"])(n)}}},d=f,p=(r("7c7e"),r("4476"),r("cba8")),m=Object(p["a"])(d,n,a,!1,null,"42634c31",null);t["a"]=m.exports},bfd4:function(e,t,r){"use strict";r("f66c")},de35:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},e280:function(e,t,r){var n=r("e7ec"),a=r("41be"),i=r("78f8"),s=r("de35"),o=n("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(e){return function(t){var r=i(a(t));return 1&e&&(r=o(r,u,"")),2&e&&(r=o(r,l,"")),r}};e.exports={start:f(1),end:f(2),trim:f(3)}},f66c:function(e,t,r){},fe34:function(e,t,r){var n=r("e7ec");e.exports=n(1..valueOf)}}]);