(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dd43f78"],{"11c8":function(t,e,n){"use strict";n("94b8")},"428f":function(t,e,n){"use strict";n("d3be")},"44ad":function(t,e,n){"use strict";var s=n("a5ba"),o=n("c6da"),a=n("b68d"),i=n("f1b6"),c=n("244f"),r=n("3493"),l=n("67e7"),u=n("c854"),d=n("c0fe"),f=n("4718"),h=n("d442"),m=n("8f74"),b=h("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",w=o.TypeError,g=m>=51||!a((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),k=f("concat"),C=function(t){if(!c(t))return!1;var e=t[b];return void 0!==e?!!e:i(t)},_=!g||!k;s({target:"Array",proto:!0,forced:_},{concat:function(t){var e,n,s,o,a,i=r(this),c=d(i,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(a=-1===e?i:arguments[e],C(a)){if(o=l(a),f+o>p)throw w(v);for(n=0;n<o;n++,f++)n in a&&u(c,f,a[n])}else{if(f>=p)throw w(v);u(c,f++,a)}return c.length=f,c}})},"94b8":function(t,e,n){},9616:function(t,e,n){},c63c:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aiot-contain"},[n("header",{staticClass:"aiot-contain-header"},[n("Navigation")],1),n("main",{staticClass:"aiot-contain-content"},[n("nav",{staticClass:"aiot-content-menu"},[n("MenuList")],1),n("main",{staticClass:"aiot-content-body"},[n("router-view")],1)]),n("SocketMessage")],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aiot-header-contain"},[n("article",{staticClass:"header-lf"},[n("div",{staticClass:"aiot-header-name"},[t._v(t._s(t.title))])]),n("article",{staticClass:"header-lr"},[n("div",{staticClass:"userLand"},[n("el-dropdown",{on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.userInfo.userName)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出")])],1)],1)],1)])])},i=[],c=n("ed3b"),r=n("fd6a"),l=(n("e186"),n("bbfb")),u=n("7736"),d={name:"Nacigation",data:function(){return{title:"车路协同系统信息平台"}},computed:Object(r["a"])({},Object(u["b"])({userInfo:function(t){return t.permission.userInfo}})),methods:{handleCommand:function(t){switch(t){case"logout":this.logout();break;default:break}},logout:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(123),e.next=3,Object(l["c"])();case 3:n=e.sent,200===n.code&&(t.$message({type:"success",message:n.msg}),t.$store.dispatch("logout"),t.$router.push({path:"/login"}));case 5:case"end":return e.stop()}}),e)})))()}}},f=d,h=(n("e9b0"),n("cba8")),m=Object(h["a"])(f,a,i,!1,null,"a2b13b14",null),b=m.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aiot-menu-contain"},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"",collapse:t.isCollapse,"default-active":t.activeIndex},on:{open:t.handleOpen,close:t.handleClose,select:t.handleSelect}},[t._l(t.menuList,(function(e){return[e.children&&e.children.length?n("el-submenu",{key:e.path,attrs:{index:e.path,disabled:e.disabled}},[n("template",{slot:"title"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"iconfont",class:["iconfont",e.icon]})]),n("span",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]),t._l(e.children,(function(e){return n("el-menu-item",{key:e.name,attrs:{index:e.path,disabled:e.disabled}},[t._v(" "+t._s(e.name)+" ")])}))],2):n("el-menu-item",{key:e.path,attrs:{index:e.path,disabled:e.disabled}},[n("template",{slot:"title"},[n("span",{staticClass:"icon"},[n("i",{staticClass:"iconfont",class:["iconfont",e.icon]})]),n("span",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])],2)]}))],2)],1)},v=[],w=(n("a9b6"),n("c284"),n("3e22"),{name:"Menu",data:function(){return{activeIndex:this.$route.path,menuList:[],isCollapse:!1}},computed:{asyncRouter:function(){return this.$store.state.permission.asyncRouter[0].children}},watch:{asyncRouter:{handler:function(){var t=this.asyncRouter;this.formatterList(t),console.log("menuList"),this.menuList=t},deep:!0}},mounted:function(){var t=this.asyncRouter;this.formatterList(t),this.menuList=t},methods:{handleOpen:function(){},handleClose:function(){},handleSelect:function(t,e){console.log(t,e)},formatterList:function(t){var e=this;t.forEach((function(t){t.name=t.meta.name,t.path=t.meta.path,t.icon=t.meta.icon,t.id=t.meta.id,t.children&&t.children.length&&e.formatterList(t.children)}))}}}),g=w,k=(n("428f"),Object(h["a"])(g,p,v,!1,null,"64bd1edd",null)),C=k.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},y=[],O=(n("44ad"),{name:"test",data:function(){return{websock:null}},computed:Object(r["a"])({},Object(u["b"])({loginName:function(t){return t.permission.userInfo.loginName}})),created:function(){this.initWebSocket()},destroyed:function(){this.websock.close()},methods:{initWebSocket:function(){var t="ws://111.16.49.167:8083/api/gr/dev/imserver/".concat(this.loginName);this.websock=new WebSocket(t),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("建立连接")},websocketonerror:function(){},websocketonmessage:function(t){if("[object Object]"===Object.prototype.toString.call(t.data)){var e=JSON.parse(t.data);this.$notify({title:"警告",position:"bottom-right",message:"设备编号：".concat(e.devId," 发生").concat(e.eventInfo),offset:30})}},websocketsend:function(t){this.websock.send(t)},websocketclose:function(t){console.log("断开连接",t)}}}),x=O,j=Object(h["a"])(x,_,y,!1,null,null,null),L=j.exports,S={components:{Navigation:b,MenuList:C,SocketMessage:L},name:"Main"},$=S,I=(n("11c8"),Object(h["a"])($,s,o,!1,null,null,null));e["default"]=I.exports},d3be:function(t,e,n){},e9b0:function(t,e,n){"use strict";n("9616")}}]);